<!DOCTYPE html>
<html lang="en">

    <head>
        <link rel="stylesheet" media="screen" href="@routes.Assets.versioned("css/bootstrap.min.css")">
        <link rel="stylesheet" media="screen" href="@routes.Assets.versioned("css/expandable_tree_list.css")">
        @*<link rel="stylesheet" media="screen" href="@routes.Assets.versioned("css/bootstrap-grid.min.css")">*@
        @*<link rel="stylesheet" media="screen" href="@routes.Assets.versioned("css/bootstrap-reboot.min.css")">*@
        <link rel="stylesheet" media="screen" href="@routes.Assets.versioned("css/desktop.css")">

        <link rel="shortcut icon" type="image/png" href="@routes.Assets.versioned("images/favicon.png")">

        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    </head>

    <script src="@routes.Assets.versioned("js/jquery-3.2.1.min.js")" type="text/javascript"></script>
    <script src="@routes.Assets.versioned("js/bootstrap.bundle.js")" type="text/javascript"></script>
    <script src="@routes.Assets.versioned("js/CollapsibleLists.js")" type="text/javascript"></script>

    <body>
            <!-- Container full website -->
        <div class = "container-fluid">
            <div class = "row">
                <span class = "col" align = "center">
                    <br>
                    <h1>
                    Planungsunterstützungstool Master technische Informatik
                    </h1>
                </span>
            </div>
                <!-- PopUp -->
            <div id="myModal" class="modal fade" role="dialog">
                <div class="modal-dialog">
                        <!-- PopUp Inhalt-->
                    <div class="modal-content">
                            <!-- PopUp Kopfzeile -->
                        <div class="modal-header">
                            <h4 class="modal-title">Neuen Plan erstellen</h4>
                        </div>
                            <!-- PopUp Körper -->
                        <div class="modal-body">
                            <div class="container">
                                <div class="row">
                                    <div class="col">
                                        <h5>Semesteranzahl:</h5>
                                        <input type="text" class="form-control" id="input-semesteranzahl" placeholder="Semesteranzahl">
                                    </div>
                                    <div class="col">
                                        <h5>Studienstart:</h5>
                                        <div class="radio">
                                            <label><input type="radio" name="optradio" id="radio-winter" value="winter">Winter</label>
                                        </div>
                                        <div class="radio">
                                            <label><input type="radio" name="optradio" id="radio-sommer" value="sommer">Sommer</label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                            <!-- PopUp Fußzeile -->
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal" id="popup-abbrechen">Abbrechen</button>
                            <button type="button" class="btn btn-default" data-dismiss="modal" id="popup-ok" onclick="okbtn()">OK</button>
                        </div>
                    </div>
                </div>
            </div>
                <!-- Container Menüleiste -->
            <div class = "container">
                <div class = "row rounded" align = "center">
                    <div class = "col" align = "center">
                        <button type = "button" class = "btn btn-primary" data-toggle="modal" data-target="#myModal">Neuer Plan</button>
                    </div>
                    <div class = "col mar" align = "center">
                        <h5>Semesteranzahl</h5>
                    </div>
                    <div class = "col" align = "center">
                        <button type = "button" onclick = "counter_minus()" class = "btn btn-primary">-</button>
                    </div>
                    <div class = "col mar" align = "center">
                        <h5 id = "count">0</h5>
                    </div>
                    <div class = "col" align = "center">
                        <button type = "button" onclick = "counter_plus()" class = "btn btn-primary">+</button>
                    </div>
                    <div class = "col" align = "center">
                        <button id = "button" class = "btn btn-primary">Plan laden</button>
                        <input id = "file-input" type = "file" name = "name" style = "display: none;"/>
                    </div>
                    <div class = "col" align = "center">
                        <button type = "button" class = "btn btn-primary" style = "width: auto">Plan speichern</button>
                    </div>
                    <div class = "col" align = "center">
                        <button type = "button" class = "btn btn-primary" style = "width: auto">PDF erstellen</button>
                    </div>
                    <div class = "col mar" align = "center">
                        <h5>ECTS:</h5>
                    </div>
                    <div class = "col mar" align = "center">
                        <h5>0</h5>
                    </div>
                </div>
            </div>
                <!-- Container um Katalogliste, Regeln, Semester -->
            <div class = "container">
                <div class = "row rounded">
                        <!-- Container Katalogliste -->
                    <div class = "col-4 container">
                        <div class = "col scrollbar rounded-scrollbar-left">
                            <div class = "row">
                                <span class = "col" align = "left">
                                    <h4>
	                    Modulkataloge
                                    </h4>
                                </span>
                            </div>
                            <div class = "katalog">
                                <ul class = "tree collapsibleList">
                                    <li class="strich">
									Katalog 1
                                        <ul class="strich abstand">
                                            <li><a href = "#">Modul 1</a></li>
                                            <li><a href = "#">Modul 2</a></li>
                                            <li><a href = "#">Modul 3</a></li>
                                        </ul>
                                    </li>
                                </ul>
                            </div>
                            <div class = "katalog">
                                <ul class = "tree collapsibleList">
                                    <li>
									Katalog 2
                                        <ul class="abstand">
                                            <li><a href = "#">Modul 1</a></li>
                                            <li><a href = "#">Modul 2</a></li>
                                            <li><a href = "#">Modul 3</a></li>
                                        </ul>
                                    </li>
                                </ul>
                            </div>
                            <div class = "katalog">
                                <ul class = "tree collapsibleList">
                                    <li>
									Katalog 3
                                        <ul class="abstand">
                                            <li><a href = "#">Modul 1</a></li>
                                            <li><a href = "#">Modul 2</a></li>
                                            <li><a href = "#">Modul 3</a></li>
                                        </ul>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                        <!--  Container um Regeln, Semester -->
                    <div class = "col container">
                            <!--  Container Regeln -->
                        <div class = "container" id = "regeln">
                            <div class = "row">
                                <div class = "col warnungen">
                                    <p>Regel 1</p>
                                </div>
                            </div>
                        </div>
                            <!--  Container Semester -->
                        <div id = "semester">
                            <div class = "container semester-gesamt">
                                <div class = "row">
                                    <h6 class = "label">Semester 1</h6>
                                </div>
                                <div class = "row semester">
                                    <div class = "col tags id">
                                        <p>ID:</p>
                                    </div>
                                    <div class = "col tags name">
                                        <p>Name</p>
                                    </div>
                                    <div class = "col tags sws">
                                        <p>SWS:</p>
                                    </div>
                                    <div class = "col tags dozent">
                                        <p>Dozent:</p>
                                    </div>
                                    <div class = "col tags ulp">
                                        <p>ULP</p>
                                    </div>
                                    <div class = "col tags ects">
                                        <p>ECTS:</p>
                                    </div>
                                    <div class = "col tags btnloeschen">
								    </div>
                                    <div class = "col btnverschieben">
								</div>
                            </div>
                                <div class = "row semester">
                                    <div class = "col tags id">
                                        <p>ID:</p>
                                    </div>
                                    <div class = "col tags name">
                                        <p>Name</p>
                                    </div>
                                    <div class = "col tags sws">
                                        <p>SWS:</p>
                                    </div>
                                    <div class = "col tags dozent">
                                        <p>Dozent:</p>
                                    </div>
                                    <div class = "col tags ulp">
                                        <p>ULP</p>
                                    </div>
                                    <div class = "col tags ects">
                                        <p>ECTS:</p>
                                    </div>
                                    <div class = "col tags btnloeschen">
								    </div>
                                    <div class = "col btnverschieben">
								</div>
                                </div>
                                <div class = "row semester">
                                    <div class = "col tags id">
                                        <p>ID:</p>
                                    </div>
                                    <div class = "col tags name">
                                        <p>Name</p>
                                    </div>
                                    <div class = "col tags sws">
                                        <p>SWS:</p>
                                    </div>
                                    <div class = "col tags dozent">
                                        <p>Dozent:</p>
                                    </div>
                                    <div class = "col tags ulp">
                                        <p>ULP</p>
                                    </div>
                                    <div class = "col tags ects">
                                        <p>ECTS:</p>
                                    </div>
                                    <div class = "col tags btnloeschen">
								    </div>
                                    <div class = "col btnverschieben">
								</div>
                                </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>
        <script>

          var ausgewaehlt;

          CollapsibleLists.apply();

          function test() {
              $('.semester').css("display","none");
          }

          $('#button').on('click', function () {
              $('#file-input').trigger('click');
          });

          function counter_plus() {
              var wert = Number(document.getElementById("count").textContent);
              wert++;
              document.getElementById("count").textContent = wert;
              add_Semester();
          }

          function counter_minus() {
              var wert = Number(document.getElementById("count").textContent);
              if (wert > 0) {
                  wert--;
              }
              document.getElementById("count").textContent = wert;
              deleteLast();
          }


          function semesterMarkieren(caller) {

              $('#semester').children().removeClass('ausgewaehlt');
              $(caller).toggleClass('semester ausgewaehlt');

              ausgewaehlt = $(caller).children().children().html().replace("Semester ", "");
              ;
              console.log(ausgewaehlt);
          }


          function add_Semester() {
              $("#semester").append(
                      '<div class = "container semester-gesamt" onclick="semesterMarkieren(this)">' +
                      '<div class = "row">' +
                      '<h6 class="label"></h6>' +
                      '</div>' +
                      '</div>'
              );
              var wert = Number(document.getElementById("count").textContent);
              if (wert % 2 == 0) {
                  $(".label").last().text(""+$("#count").html()+": Sommersemester");
              } else {
                  $(".label").last().text(""+$("#count").html()+": Wintersemester");
              }
          };

          function add_neuer_Plan(startSem) {
              $("#semester").append(
                      '<div class = "container semester-gesamt" onclick="semesterMarkieren(this)">' +
                      '<div class = "row">' +
                      '<h6 class="label"></h6>' +
                      '</div>' +
                      '</div>'
              );
              var wert = Number(document.getElementById("count").textContent);
              if(startSem == "winter" && wert % 2 == 1) {
                  $(".label").last().text(""+$("#count").html()+": Wintersemester");
              } else if(startSem == "winter" && wert % 2 == 0) {
                  $(".label").last().text(""+$("#count").html()+": Sommersemester");
              } else if(startSem == "sommer" && wert % 2 == 1) {
                  $(".label").last().text(""+$("#count").html()+": Sommersemester");
              } else {
                  $(".label").last().text(""+$("#count").html()+": Wintersemester");
              }
          }

          function deleteLast() {
              console.log($("#semester").children().last().remove());
          };

          function deleteByID(id) {
              console.log($("#semester").children().filter(":nth-child(" + id + ")").remove());
          };

          function deleteAll() {
              console.log($("#semester").children().remove());
          };


          function toFile() {
              saveTextAs("", "test.csv");
          };

          function okbtn() {
              deleteAll();
              var count = 0;
              var myRadio = $('input[name="optradio"]');
              var startSem = myRadio.filter(':checked').val();
              wert = $("#input-semesteranzahl").val();
              for (i = 0; i < wert; i++) {
                  count++;
                  document.getElementById("count").textContent = count;
                  add_neuer_Plan(startSem);
              }
          }

          function neuerPlan() {
              wert = $("#input-semesteranzahl").val();
              okbtn();
          }

	</script>
    </body>
</html>